{"remainingRequest":"E:\\javacode\\html\\vuehtml\\vueautho2\\node_modules\\babel-loader\\lib\\index.js!E:\\javacode\\html\\vuehtml\\vueautho2\\node_modules\\cache-loader\\dist\\cjs.js??ref--0-0!E:\\javacode\\html\\vuehtml\\vueautho2\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!E:\\javacode\\html\\vuehtml\\vueautho2\\src\\components\\Login.vue?vue&type=script&lang=js&","dependencies":[{"path":"E:\\javacode\\html\\vuehtml\\vueautho2\\src\\components\\Login.vue","mtime":1594862290851},{"path":"E:\\javacode\\html\\vuehtml\\vueautho2\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1593940992425},{"path":"E:\\javacode\\html\\vuehtml\\vueautho2\\node_modules\\babel-loader\\lib\\index.js","mtime":1593941044592},{"path":"E:\\javacode\\html\\vuehtml\\vueautho2\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1593940992425},{"path":"E:\\javacode\\html\\vuehtml\\vueautho2\\node_modules\\vue-loader\\lib\\index.js","mtime":1593941034742}],"contextDependencies":[],"result":["//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\nexport default {\n  data: function data() {\n    return {\n      loginFrom: {\n        username: \"zhangsan\",\n        password: \"123456\"\n      },\n      loginFromRules: {\n        username: [{\n          required: true,\n          message: '请输入用户名称',\n          trigger: 'blur'\n        }, {\n          min: 3,\n          max: 15,\n          message: '长度在 3 到 5 个字符',\n          trigger: 'blur'\n        }],\n        password: [{\n          required: true,\n          message: '请输入密码',\n          trigger: 'blur'\n        }, {\n          min: 3,\n          max: 15,\n          message: '长度在 3 到 15 个字符',\n          trigger: 'blur'\n        }]\n      }\n    };\n  },\n  methods: {\n    formRest: function formRest() {\n      this.$refs.loginFormRef.resetFields();\n    },\n    login: function login() {\n      var _this = this;\n\n      this.$refs.loginFormRef.validate(function (valid) {\n        if (!valid) {\n          return;\n        } else {\n          _this.$http.post('http://localhost:8866/login', _this.$qs.stringify(_this.loginFrom)).then(function (response) {\n            if (response.status == 200) {\n              var tokenInfor = response.data.data.body;\n              var access_token = tokenInfor.access_token;\n              console.log(access_token);\n              window.sessionStorage.setItem(\"token\", access_token);\n\n              _this.$message.success(\"成功！\");\n\n              console.log(_this.$route);\n\n              _this.$router.go(-1); // 登录成功后，返回上次进入的页面；\n\n            } else {\n              _this.$message.error(\"失败！\");\n            }\n          }).catch(function (error) {\n            // 请求失败处理\n            console.log(error);\n          });\n        }\n      });\n    }\n  }\n};",{"version":3,"sources":["Login.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;AA0BA,eAAA;AACA,EAAA,IADA,kBACA;AACA,WAAA;AACA,MAAA,SAAA,EAAA;AACA,QAAA,QAAA,EAAA,UADA;AAEA,QAAA,QAAA,EAAA;AAFA,OADA;AAKA,MAAA,cAAA,EAAA;AACA,QAAA,QAAA,EAAA,CACA;AAAA,UAAA,QAAA,EAAA,IAAA;AAAA,UAAA,OAAA,EAAA,SAAA;AAAA,UAAA,OAAA,EAAA;AAAA,SADA,EAEA;AAAA,UAAA,GAAA,EAAA,CAAA;AAAA,UAAA,GAAA,EAAA,EAAA;AAAA,UAAA,OAAA,EAAA,eAAA;AAAA,UAAA,OAAA,EAAA;AAAA,SAFA,CADA;AAKA,QAAA,QAAA,EAAA,CACA;AAAA,UAAA,QAAA,EAAA,IAAA;AAAA,UAAA,OAAA,EAAA,OAAA;AAAA,UAAA,OAAA,EAAA;AAAA,SADA,EAEA;AAAA,UAAA,GAAA,EAAA,CAAA;AAAA,UAAA,GAAA,EAAA,EAAA;AAAA,UAAA,OAAA,EAAA,gBAAA;AAAA,UAAA,OAAA,EAAA;AAAA,SAFA;AALA;AALA,KAAA;AAgBA,GAlBA;AAmBA,EAAA,OAAA,EAAA;AACA,IAAA,QADA,sBACA;AACA,WAAA,KAAA,CAAA,YAAA,CAAA,WAAA;AACA,KAHA;AAIA,IAAA,KAJA,mBAIA;AAAA;;AACA,WAAA,KAAA,CAAA,YAAA,CAAA,QAAA,CAAA,UAAA,KAAA,EAAA;AACA,YAAA,CAAA,KAAA,EAAA;AACA;AACA,SAFA,MAEA;AACA,UAAA,KAAA,CAAA,KAAA,CAAA,IAAA,CAAA,6BAAA,EAAA,KAAA,CAAA,GAAA,CAAA,SAAA,CAAA,KAAA,CAAA,SAAA,CAAA,EACA,IADA,CACA,UAAA,QAAA,EAAA;AACA,gBAAA,QAAA,CAAA,MAAA,IAAA,GAAA,EAAA;AACA,kBAAA,UAAA,GAAA,QAAA,CAAA,IAAA,CAAA,IAAA,CAAA,IAAA;AACA,kBAAA,YAAA,GAAA,UAAA,CAAA,YAAA;AACA,cAAA,OAAA,CAAA,GAAA,CAAA,YAAA;AACA,cAAA,MAAA,CAAA,cAAA,CAAA,OAAA,CAAA,OAAA,EAAA,YAAA;;AACA,cAAA,KAAA,CAAA,QAAA,CAAA,OAAA,CAAA,KAAA;;AACA,cAAA,OAAA,CAAA,GAAA,CAAA,KAAA,CAAA,MAAA;;AACA,cAAA,KAAA,CAAA,OAAA,CAAA,EAAA,CAAA,CAAA,CAAA,EAPA,CAOA;;AACA,aARA,MAQA;AACA,cAAA,KAAA,CAAA,QAAA,CAAA,KAAA,CAAA,KAAA;AACA;AACA,WAbA,EAcA,KAdA,CAcA,UAAA,KAAA,EAAA;AAAA;AACA,YAAA,OAAA,CAAA,GAAA,CAAA,KAAA;AACA,WAhBA;AAiBA;AACA,OAtBA;AAuBA;AA5BA;AAnBA,CAAA","sourcesContent":["<template>\r\n\t<div class=\"login-container\">\r\n\t\t<div class='login'>\r\n\t\t\t<div class=\"header\">\r\n\t\t\t\t<img src=\"../assets/logo.png\" />\r\n\t\t\t</div>\r\n\t\t\t<el-form ref=\"loginFormRef\" :model=\"loginFrom\" :rules=\"loginFromRules\"  label-width=\"0px\" class=\"login_form\">\r\n\t\t\t\t<!-- 用户名 -->\r\n\t\t\t  <el-form-item prop=\"username\">\r\n\t\t\t    <el-input v-model=\"loginFrom.username\" prefix-icon=\"el-icon-user-solid\"></el-input>\r\n\t\t\t  </el-form-item>\r\n\t\t\t  <!-- 密码 -->\r\n\t\t\t  <el-form-item prop=\"password\">\r\n\t\t\t    <el-input type=\"password\" v-model=\"loginFrom.password\" prefix-icon=\"el-icon-lock\"></el-input>\r\n\t\t\t  </el-form-item>\r\n\t\t\t  <!-- 按钮 -->\r\n\t\t\t  <el-form-item class=\"button\">\r\n\t\t\t     <el-button type=\"primary\" @click=\"login\">登录</el-button>\r\n\t\t\t     <el-button type=\"info\" @click=\"formRest\" >重置</el-button>\r\n\t\t\t  </el-form-item>\r\n\t\t\t</el-form>\r\n\t\t</div>\r\n\t</div>\r\n</template>\r\n\r\n<script>\r\n\texport default{\r\n\t\tdata(){\r\n\t\t\treturn {\r\n\t\t\t\tloginFrom:{\r\n\t\t\t\t\tusername:\"zhangsan\",\r\n\t\t\t\t\tpassword:\"123456\"\r\n\t\t\t\t},\r\n\t\t\t\tloginFromRules:{\r\n\t\t\t\t\tusername:[\r\n\t\t\t\t\t\t { required: true, message: '请输入用户名称', trigger: 'blur' },\r\n\t\t\t\t\t\t { min: 3, max: 15, message: '长度在 3 到 5 个字符', trigger: 'blur' }\r\n\t\t\t\t\t],\r\n\t\t\t\t\tpassword:[\r\n\t\t\t\t\t\t{ required: true, message: '请输入密码', trigger: 'blur' },\r\n\t\t\t\t\t\t{ min: 3, max: 15, message: '长度在 3 到 15 个字符', trigger: 'blur' }\r\n\t\t\t\t\t]\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t},\r\n\t\tmethods:{\r\n\t\t\tformRest(){\r\n\t\t\t\tthis.$refs.loginFormRef.resetFields();\r\n\t\t\t},\r\n\t\t\tlogin() {\r\n\t\t\t\tthis.$refs.loginFormRef.validate(valid =>{\r\n\t\t\t\t\tif(!valid){\r\n\t\t\t\t\t\treturn;\r\n\t\t\t\t\t}else{\r\n\t\t\t\t\t\tthis.$http.post('http://localhost:8866/login',this.$qs.stringify(this.loginFrom))\r\n\t\t\t\t\t\t\t.then(response =>{\r\n\t\t\t\t\t\t\t\tif(response.status==200){\r\n\t\t\t\t\t\t\t\t\tconst tokenInfor = response.data.data.body;\r\n\t\t\t\t\t\t\t\t\tconst access_token = tokenInfor.access_token;\r\n\t\t\t\t\t\t\t\t\tconsole.log(access_token)\r\n\t\t\t\t\t\t\t\t\twindow.sessionStorage.setItem(\"token\", access_token);\r\n\t\t\t\t\t\t\t\t\tthis.$message.success(\"成功！\")\r\n\t\t\t\t\t\t\t\t\tconsole.log(this.$route)\r\n\t\t\t\t\t\t\t\t\tthis.$router.go(-1); // 登录成功后，返回上次进入的页面；\r\n\t\t\t\t\t\t\t\t}else{\r\n\t\t\t\t\t\t\t\t\tthis.$message.error(\"失败！\")\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t\t.catch(function (error) { // 请求失败处理\r\n\t\t\t\t\t\t\t\tconsole.log(error);\r\n\t\t\t\t\t\t\t});\r\n\t\t\t\t\t}\r\n\t\t\t\t});\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n</script>\r\n\r\n<style lang=\"less\" scoped=\"scoped\">  /* scoped 当前页面生效 */\r\n   .login-container{\r\n\t   background-color: blueviolet;\r\n\t   height: 100%;\r\n   }\r\n   .login{\r\n\t   width: 450px;\r\n\t   height: 300px;\r\n\t   background-color: white;\r\n\t   border-radius: 3px;\r\n\t  /* 据中得css */\r\n\t   position: absolute;\r\n\t   left: 50%;\r\n\t   top: 50%;\r\n\t   transform: translate(-50%,-50%);\r\n\t   \r\n\t   .header{\r\n\t\t   height: 130px;\r\n\t\t   width: 130px;\r\n\t\t   border: 1px solid #eee;\r\n\t\t   border-radius: 50%;\r\n\t\t   padding: 10px;\r\n\t\t   box-shadow: 0 0 10px #ddd;\r\n\t\t   position: absolute;\r\n\t\t   left: 50%;\r\n\t\t   transform: translate(-50%,-50%);\r\n\t\t   background-color: #fff;\r\n\t\t   img{\r\n\t\t\t   width: 100%;\r\n\t\t\t   height: 100%;\r\n\t\t\t   border-radius: 50%;\r\n\t\t\t   background-color: #eee;\r\n\t\t   }\r\n\t   }\r\n   }\r\n   .button{\r\n\t   display: flex;\r\n\t   justify-content: flex-end;\r\n   }\r\n   .login_form{\r\n\t   position: absolute;\r\n\t   bottom: 0;\r\n\t   width: 100%;\r\n\t   padding: 0 20px;\r\n\t   box-sizing: border-box;\r\n   }\r\n</style>\r\n"],"sourceRoot":"src/components"}]}